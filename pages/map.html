<div class="map-screen">
    
    <!-- 背景地圖 -->
    <img src="../img/newImage/map.png" class="map-background">

    <!-- 左上角返回按鈕 -->
    <button class="back-btn">
        <i class="fas fa-chevron-left"></i>
    </button>

    <!-- 右上角使用者頭像 -->
    <div class="map-avatar-wrapper">
        <div class="user-avatar" id="mapUserAvatarBtn">
            <img src="https://placehold.co/100x100/4CAF50/white?text=User" alt="User">
        </div>
    </div>

    <!-- 4個地點按鈕 (位置已透過 CSS 拉開) -->
    <!-- 注意：移除了原本內部的 class="user-avatar-img"，改用通用樣式控制 -->
    <div class="location-btn pos-a" data-id="A" data-title="1792 茶園">
        <img src="../img/newImage/茶屋A.png" alt="A">
    </div>
    
    <div class="location-btn pos-b" data-id="B" data-title="金城茶園">
        <img src="../img/newImage/茶屋B.png" alt="B">
    </div>
    
    <div class="location-btn pos-c" data-id="C" data-title="深坑有好茶園">
        <img src="../img/newImage/茶屋C.png" alt="C">
    </div>
    
    <div class="location-btn pos-d" data-id="D" data-title="來深坑喝茶園">
        <img src="../img/newImage/茶屋D.png" alt="D">
    </div>

    <!-- === 互動視窗 (Modal) === -->
    <div class="modal-overlay" id="teaModal">
        <div class="modal-card">
            <div class="modal-title" id="modalTitle">茶園標題</div>
            <div class="modal-desc">
                這裡是一段關於該茶園的簡短描述，介紹特色與環境。<br>
                享受專注與種茶的樂趣...
            </div>

            <!-- 環形計時器 -->
            <div class="timer-wrapper" id="timerArea">
                <div class="timer-circle">
                    <div class="timer-text">
                        <div><span class="timer-val" id="displayHr">1</span> <span class="timer-unit">hr</span></div>
                        <div><span class="timer-val" id="displayMin">20</span> <span class="timer-unit">mins</span></div>
                    </div>
                    <div class="knob-container" id="knobRotator">
                        <div class="knob"></div>
                    </div>
                </div>
            </div>

            <!-- 茶種區塊 -->
            <div class="tea-section-title">可能獲得的茶種</div>
            <div class="tea-dots-container">
                <div class="tea-dot"></div>
                <div class="tea-dot active"></div>
                <div class="tea-dot"></div>
                <div class="tea-dot"></div>
                <div class="tea-dot active"></div>
            </div>

            <div class="todo-section">
                <div class="todo-input-group">
                    <input type="text" id="mapTodoInput" class="goal-input" placeholder="輸入待辦事項...">
                    <button id="mapAddTodoBtn" class="add-btn">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <!-- 顯示已加入的清單 -->
                <div id="mapTodoPreview" class="todo-preview-list">
                <!-- JS 會動態加入項目 -->
                <!-- <div class="preview-item">範例事項</div> -->
                </div>
            </div>
            <button class="enter-btn" id = 'enterGardenBtn'>進 入 茶 園</button>
        </div>
    </div>
        <!-- === [新增] 使用者資訊 Modal === -->
    <div class="modal-overlay" id="userProfileModal">
        <div class="user-profile-card">
            
            <!-- 1. 頭像與名稱 -->
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="https://placehold.co/100x100/4CAF50/white?text=User" alt="User">
                </div>
                <div class="profile-name">user name</div>
            </div>

            <!-- 2. 數據進度條 -->
            <div class="profile-stats">
                <!-- 茶種 -->
                <div class="stat-row">
                    <span class="stat-label">茶 種</span>
                    <div class="stat-bar-container">
                        <div class="stat-bar-text" id="statTeaText">0/0</div>
                        <div class="stat-bar-fill" id="statTeaBar" style="width: 0%"></div>
                    </div>
                </div>
                <!-- 成就 -->
                <div class="stat-row">
                    <span class="stat-label">成 就</span>
                    <div class="stat-bar-container">
                        <div class="stat-bar-text" id="statAchieveText">0/0</div>
                        <div class="stat-bar-fill" id="statAchieveBar" style="width: 0%"></div>
                    </div>
                </div>
                <!-- 裝扮 (目前無資料，先寫死或隨機) -->
                <div class="stat-row">
                    <span class="stat-label">裝 扮</span>
                    <div class="stat-bar-container">
                        <div class="stat-bar-text">10/100</div>
                        <div class="stat-bar-fill" style="width: 10%"></div>
                    </div>
                </div>
            </div>

            <!-- 3. 選單連結 -->
            <div class="profile-menu">
                <div class="profile-menu-item" data-page="tea_cabinet">茶 櫃</div>
                <div class="profile-menu-item" data-page="costume">裝 扮</div>
                <!-- 注意：這裡直接跳轉成就頁面 -->
                <div class="profile-menu-item" data-page="achievements" data-arg="unlocked">成 就</div>
                <div class="profile-menu-item" data-page="subscribe">訂 閱</div>
                <div class="profile-menu-item" data-page="setting">設 定</div>
            </div>

        </div>
    
    </div>

</div>